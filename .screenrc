escape ^]^]
caption always "%{= wk} %-w%{=bu dr}%n %t%{-}%+w %= %{=b wb}%H [%c:%s]"
autodetach on


# disable window resize
termcapinfo xterm 'is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l'
termcapinfo  xterm-256color hs@:is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l


# 256 color
if &term =~ "xterm-256color"
  set t_Co=256
  syntax on
  colorscheme desert256
endif

# encoding
bind 'U' eval "encoding utf8" "stuff 'export LANG=ja_JP.UTF-8\012'"
bind 'E' eval "encoding euc" "stuff 'export LANG=ja_JP.EUC-JP\012'"
bind 'S' eval "encoding sjis" "stuff 'export LANG=ja_JP.SHIFT-JIS\012'"


hardstatus string "[%H #%n] %h"


# number of lines to scroll back
defscrollback 10000

# turn off visible bell
vbell off

# No autodetach because a detached stem screen is useless.
autodetach off

# window management emulating emacs key bind
bind -c REGION 2 split
bind -c REGION 1 only
bind -c REGION 0 remove
bind -c REGION o focus
bind -c REGION \^ resize
bind x command -c REGION


# enter resize mode by "r" command. press k or j to be larger or smaller
bind r eval 'echo "Resize window"' 'command -c resize'
bind -c resize ^]  command
bind -c resize j eval 'resize +1' 'command -c resize'
bind -c resize k eval 'resize -1' 'command -c resize'


# enable logging
hardcopydir "$HOME/.screenlog"
hardcopy_append on
logfile "$HOME/.screenlog/%H-%Y%m%d-%c-%n.log"
deflog on

defencoding utf8
encoding utf8 utf8

